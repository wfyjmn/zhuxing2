# çªå‡»é€‰è‚¡æ™ºèƒ½å†³ç­–ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

çªå‡»é€‰è‚¡æ™ºèƒ½å†³ç­–ç³»ç»Ÿï¼ˆBrainï¼‰æ˜¯ DeepQuant ç³»ç»Ÿçš„æ ¸å¿ƒå¤§è„‘å’Œå†³ç­–æœºæ„ï¼Œæ•´åˆäº†ï¼š

- **æ•°æ®æ³„éœ²å®¡è®¡**ï¼ˆData Leak Auditï¼‰- æ·±åº¦å®¡è®¡æ•°æ®è´¨é‡
- **åœ¨çº¿ç›‘æ§**ï¼ˆOnline Monitoringï¼‰- å®æ—¶ç›‘æ§æ¨¡å‹æ€§èƒ½
- **æ™ºèƒ½å†³ç­–**ï¼ˆIntelligent Decisionï¼‰- ç»¼åˆä¿¡æ¯åšå‡ºä¹°å–å†³ç­–
- **ä¸‰é‡ç¡®è®¤**ï¼ˆTriple Confirmationï¼‰- èµ„é‡‘/æƒ…ç»ª/æŠ€æœ¯ç¡®è®¤æœºåˆ¶
- **ç½®ä¿¡åº¦è¿‡æ»¤**ï¼ˆConfidence Filterï¼‰- åŸºäºç½®ä¿¡åº¦çš„å†³ç­–è¿‡æ»¤

ç³»ç»Ÿæ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    çªå‡»é€‰è‚¡æ™ºèƒ½å†³ç­–ç³»ç»Ÿ                         â”‚
â”‚                        (Brain)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ æ•°æ®æ³„éœ²å®¡è®¡  â”‚  â”‚  åœ¨çº¿ç›‘æ§    â”‚  â”‚  æ™ºèƒ½å†³ç­–    â”‚      â”‚
â”‚  â”‚  - æ ‡ç­¾ä¸€è‡´æ€§ â”‚  â”‚  - ç²¾ç¡®ç‡ç›‘æ§ â”‚  â”‚  - é¢„æµ‹      â”‚      â”‚
â”‚  â”‚  - Lookahead â”‚  â”‚  - è‡ªåŠ¨å›æ’¤   â”‚  â”‚  - ç¡®è®¤      â”‚      â”‚
â”‚  â”‚  - ç‰¹å¾æ¼‚ç§»   â”‚  â”‚  - å‘Šè­¦æœºåˆ¶   â”‚  â”‚  - è¿‡æ»¤      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚           â†“                  â†“                  â†“            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚              å†³ç­–å¼•æ“ (Decision Engine)             â”‚      â”‚
â”‚  â”‚  - ç»¼åˆä¿¡æ¯åˆ†æ                                    â”‚      â”‚
â”‚  â”‚  - é£é™©è¯„ä¼°                                        â”‚      â”‚
â”‚  â”‚  - ç­–ç•¥æ‰§è¡Œ                                        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                          â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚           äº¤æ˜“è¾“å‡º (Trading Output)                  â”‚      â”‚
â”‚  â”‚  - ä¹°å…¥ / å–å‡º / æŒæœ‰                               â”‚      â”‚
â”‚  â”‚  - ç½®ä¿¡åº¦                                          â”‚      â”‚
â”‚  â”‚  - æ‰§è¡Œå»ºè®®                                        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸€ã€ç³»ç»Ÿæ¶æ„

### 1.1 æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| **AssaultDecisionBrain** | æ™ºèƒ½å†³ç­–å¤§è„‘ | æ•´åˆæ‰€æœ‰åŠŸèƒ½çš„æ ¸å¿ƒå†³ç­–ç³»ç»Ÿ |
| **AssaultTradingSystemIntegrated** | é›†æˆäº¤æ˜“ç³»ç»Ÿ | æ•´åˆå†³ç­–å’Œæ‰§è¡Œ |
| **LabelConsistencyChecker** | æ ‡ç­¾ä¸€è‡´æ€§æ£€æŸ¥ | æ£€æŸ¥æ ‡ç­¾ç¨³å®šæ€§ |
| **LookaheadFeatureDetector** | Lookaheadæ£€æµ‹ | æ£€æµ‹æ•°æ®æ³„éœ² |
| **FeatureDriftCalculator** | ç‰¹å¾æ¼‚ç§»è®¡ç®— | æ£€æµ‹ç‰¹å¾åˆ†å¸ƒå˜åŒ– |
| **RollingPrecisionMonitor** | æ»šåŠ¨ç²¾ç¡®ç‡ç›‘æ§ | å®æ—¶ç›‘æ§ç²¾ç¡®ç‡ |
| **AutoRollbackThreshold** | è‡ªåŠ¨å›æ’¤é˜ˆå€¼ | æ£€æµ‹æ€§èƒ½é€€åŒ– |
| **OnlineMonitoringSystem** | åœ¨çº¿ç›‘æ§ç³»ç»Ÿ | ç»¼åˆç›‘æ§ç³»ç»Ÿ |
| **StockPredictor** | è‚¡ç¥¨é¢„æµ‹å™¨ | XGBoostæ¨¡å‹é¢„æµ‹ |
| **TripleConfirmation** | ä¸‰é‡ç¡®è®¤ | èµ„é‡‘/æƒ…ç»ª/æŠ€æœ¯ç¡®è®¤ |
| **ConfidenceBasedFilter** | ç½®ä¿¡åº¦è¿‡æ»¤å™¨ | åŸºäºç½®ä¿¡åº¦è¿‡æ»¤å†³ç­– |

### 1.2 å†³ç­–æµç¨‹

```
è¾“å…¥æ•°æ®
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ç³»ç»ŸçŠ¶æ€æ£€æŸ¥  â”‚ â† åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦å¯ç”¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. å¿«é€Ÿå®¡è®¡     â”‚ â† æ£€æŸ¥æ•°æ®åŸºæœ¬è´¨é‡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. æ¨¡å‹é¢„æµ‹     â”‚ â† è·å–é¢„æµ‹ç»“æœ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. ç½®ä¿¡åº¦è¿‡æ»¤   â”‚ â† è¿‡æ»¤ä½ç½®ä¿¡åº¦é¢„æµ‹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ä¸‰é‡ç¡®è®¤     â”‚ â† èµ„é‡‘/æƒ…ç»ª/æŠ€æœ¯ç¡®è®¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. ç»¼åˆå†³ç­–     â”‚ â† ç”Ÿæˆæœ€ç»ˆå†³ç­–
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
è¾“å‡ºï¼šä¹°å…¥/å–å‡º/æŒæœ‰
```

---

## äºŒã€ä½¿ç”¨æ–¹æ³•

### 2.1 åŸºç¡€ä½¿ç”¨

```python
from stock_system.assault_decision_brain import AssaultDecisionBrain

# åˆ›å»ºå†³ç­–å¤§è„‘
brain = AssaultDecisionBrain(
    config_path="config/short_term_assault_config.json",
    enable_deep_audit=True,    # å¯ç”¨æ·±åº¦å®¡è®¡
    enable_online_monitoring=True  # å¯ç”¨åœ¨çº¿ç›‘æ§
)

# å‡†å¤‡æ•°æ®
stock_data = pd.DataFrame({
    'feature1': [...],
    'feature2': [...],
    # ... å…¶ä»–ç‰¹å¾
})

# åšå‡ºå†³ç­–
decision = brain.make_decision(
    stock_data,
    current_index=100,
    symbol="600000.SH"
)

print(f"å†³ç­–: {decision['decision']}")
print(f"ç½®ä¿¡åº¦: {decision['confidence']:.4f}")
print(f"åŸå› : {decision['reason']}")
```

### 2.2 è®­ç»ƒå‰å®¡è®¡

```python
# æ‰§è¡Œè®­ç»ƒå‰æ•°æ®å®¡è®¡
audit_results = brain.run_pre_training_audit(
    X_train=X_train,
    y_train=y_train,
    X_test=X_test,
    y_test=y_test,
    dates=dates_train
)

# æŸ¥çœ‹å®¡è®¡ç»“æœ
if audit_results['overall_passed']:
    print("âœ… æ•°æ®å®¡è®¡é€šè¿‡ï¼Œå¯ä»¥å¼€å§‹è®­ç»ƒ")
else:
    print("âŒ æ•°æ®å®¡è®¡å¤±è´¥ï¼Œè¯·ä¿®å¤æ•°æ®é—®é¢˜")
    print(f"å¤±è´¥æ¨¡å—: {list(audit_results['modules'].keys())}")
```

### 2.3 é›†æˆäº¤æ˜“ç³»ç»Ÿ

```python
from stock_system.assault_decision_brain import AssaultTradingSystemIntegrated

# åˆ›å»ºé›†æˆäº¤æ˜“ç³»ç»Ÿ
trading_system = AssaultTradingSystemIntegrated(
    config_path="config/short_term_assault_config.json"
)

# è®­ç»ƒå‰æ£€æŸ¥
can_train = trading_system.pre_training_check(
    X_train, y_train, X_test, y_test
)

if can_train:
    # è®­ç»ƒæ¨¡å‹
    # ...
    
    # æ‰§è¡Œäº¤æ˜“
    trades = trading_system.execute_trading(
        stock_data,
        symbol="600000.SH"
    )
    
    print(f"æ‰§è¡Œ {len(trades)} ç¬”äº¤æ˜“")
    
    # ç”ŸæˆæŠ¥å‘Š
    report = trading_system.generate_final_report()
```

### 2.4 åœ¨çº¿ç›‘æ§

```python
# æ›´æ–°æ€§èƒ½ç›‘æ§
y_true = np.array([0, 0, 1, 0, 0])
y_pred = np.array([0, 0, 1, 0, 0])

brain.update_performance_monitor(y_true, y_pred)

# æŸ¥çœ‹ç›‘æ§çŠ¶æ€
status = brain.get_decision_status()

print(f"ç³»ç»ŸçŠ¶æ€: {status['system_status']}")
print(f"æ€§èƒ½çŠ¶æ€: {status['performance_status']}")

if 'monitoring_status' in status:
    monitoring = status['monitoring_status']
    rollback = monitoring['rollback_status']
    print(f"åŸºå‡†ç²¾ç¡®ç‡: {rollback.get('baseline_precision')}")
    print(f"å½“å‰ç²¾ç¡®ç‡: {rollback.get('current_precision')}")
    print(f"å›æ’¤è§¦å‘: {'æ˜¯' if rollback['rollback_triggered'] else 'å¦'}")
```

---

## ä¸‰ã€é…ç½®è¯´æ˜

### 3.1 ç³»ç»Ÿé…ç½®

```python
brain = AssaultDecisionBrain(
    config_path="config/short_term_assault_config.json",
    enable_deep_audit=True,      # å¯ç”¨æ·±åº¦å®¡è®¡
    enable_online_monitoring=True # å¯ç”¨åœ¨çº¿ç›‘æ§
)
```

### 3.2 å®¡è®¡é…ç½®

```python
from stock_system.deep_leak_audit import (
    LabelConsistencyChecker,
    LookaheadFeatureDetector,
    FeatureDriftCalculator
)

# æ ‡ç­¾ä¸€è‡´æ€§æ£€æŸ¥
label_checker = LabelConsistencyChecker(
    window_size=5,              # æ»‘åŠ¨çª—å£å¤§å°
    zscore_threshold=3.0,       # Zåˆ†æ•°é˜ˆå€¼
    max_change_ratio=0.5        # æœ€å¤§å˜åŒ–æ¯”ä¾‹
)

# Lookaheadæ£€æµ‹
lookahead_detector = LookaheadFeatureDetector(
    lag_range=(1, 5),           # æ»åèŒƒå›´
    correlation_threshold=0.3,  # ç›¸å…³æ€§é˜ˆå€¼
    significance_level=0.05     # æ˜¾è‘—æ€§æ°´å¹³
)

# ç‰¹å¾æ¼‚ç§»è®¡ç®—
drift_calculator = FeatureDriftCalculator(
    psi_threshold=0.2,          # PSIé˜ˆå€¼
    ks_threshold=0.1,           # KSé˜ˆå€¼
    js_threshold=0.1            # JSé˜ˆå€¼
)
```

### 3.3 ç›‘æ§é…ç½®

```python
from stock_system.online_monitoring import (
    RollingPrecisionMonitor,
    AutoRollbackThreshold
)

# æ»šåŠ¨ç²¾ç¡®ç‡ç›‘æ§
monitor = RollingPrecisionMonitor(
    window_size=50,             # æ»šåŠ¨çª—å£å¤§å°
    min_samples=10,             # æœ€å°æ ·æœ¬æ•°
    alert_threshold=0.1         # å‘Šè­¦é˜ˆå€¼
)

# è‡ªåŠ¨å›æ’¤é˜ˆå€¼
rollback = AutoRollbackThreshold(
    precision_threshold=0.70,   # ç²¾ç¡®ç‡é˜ˆå€¼
    min_samples=50,             # æœ€å°æ ·æœ¬æ•°
    rolling_window=100,         # æ»šåŠ¨çª—å£å¤§å°
    degradation_tolerance=0.05  # é€€åŒ–å®¹å¿åº¦
)
```

---

## å››ã€å®Œæ•´ç¤ºä¾‹

### 4.1 è®­ç»ƒå‰å®¡è®¡ + æ¨¡å‹è®­ç»ƒ + åœ¨çº¿äº¤æ˜“

```python
import pandas as pd
import numpy as np
from stock_system.assault_decision_brain import AssaultTradingSystemIntegrated

# 1. åˆ›å»ºé›†æˆäº¤æ˜“ç³»ç»Ÿ
trading_system = AssaultTradingSystemIntegrated(
    config_path="config/short_term_assault_config.json"
)

# 2. å‡†å¤‡æ•°æ®
X_train = pd.DataFrame({
    'feature1': np.random.randn(1000),
    'feature2': np.random.randn(1000),
    # ... å…¶ä»–ç‰¹å¾
})
y_train = np.random.choice([0, 1], size=1000, p=[0.9, 0.1])

X_test = pd.DataFrame({
    'feature1': np.random.randn(200),
    'feature2': np.random.randn(200),
    # ... å…¶ä»–ç‰¹å¾
})
y_test = np.random.choice([0, 1], size=200, p=[0.9, 0.1])

# 3. è®­ç»ƒå‰å®¡è®¡
print("ã€æ­¥éª¤1ã€‘è®­ç»ƒå‰æ•°æ®å®¡è®¡")
can_train = trading_system.pre_training_check(
    X_train, y_train, X_test, y_test
)

if not can_train:
    print("âŒ æ•°æ®å®¡è®¡å¤±è´¥ï¼Œåœæ­¢è®­ç»ƒ")
    exit(1)

print("âœ… æ•°æ®å®¡è®¡é€šè¿‡")

# 4. è®­ç»ƒæ¨¡å‹ï¼ˆä¼ªä»£ç ï¼‰
print("ã€æ­¥éª¤2ã€‘è®­ç»ƒæ¨¡å‹")
# model.train(X_train, y_train)
print("âœ… æ¨¡å‹è®­ç»ƒå®Œæˆ")

# 5. å‡†å¤‡äº¤æ˜“æ•°æ®
stock_data = pd.DataFrame({
    'feature1': np.random.randn(100),
    'feature2': np.random.randn(100),
    'close': np.random.randn(100) * 10 + 100,
    # ... å…¶ä»–ç‰¹å¾
})

# 6. æ‰§è¡Œäº¤æ˜“
print("ã€æ­¥éª¤3ã€‘æ‰§è¡Œäº¤æ˜“")
trades = trading_system.execute_trading(
    stock_data,
    symbol="600000.SH"
)

print(f"âœ… æ‰§è¡Œ {len(trades)} ç¬”äº¤æ˜“")

# 7. ç”ŸæˆæŠ¥å‘Š
print("ã€æ­¥éª¤4ã€‘ç”ŸæˆæŠ¥å‘Š")
report = trading_system.generate_final_report()

with open('reports/trading_summary.md', 'w', encoding='utf-8') as f:
    f.write(report)

print("âœ… æŠ¥å‘Šå·²ç”Ÿæˆ")
```

### 4.2 è‡ªå®šä¹‰å‘Šè­¦å›è°ƒ

```python
def custom_alert_callback(alert):
    """è‡ªå®šä¹‰å‘Šè­¦å›è°ƒ"""
    print(f"\nğŸš¨ ç³»ç»Ÿå‘Šè­¦!")
    print(f"  ç±»å‹: {alert.get('type')}")
    print(f"  åŸå› : {alert.get('reason')}")
    
    # å‘é€é‚®ä»¶
    # send_alert_email(alert)
    
    # å‘é€çŸ­ä¿¡
    # send_alert_sms(alert)
    
    # è®°å½•æ—¥å¿—
    # log_alert(alert)

# åˆ›å»ºå¸¦æœ‰è‡ªå®šä¹‰å›è°ƒçš„ç›‘æ§ç³»ç»Ÿ
from stock_system.assault_decision_brain import AssaultDecisionBrain
from stock_system.online_monitoring import OnlineMonitoringSystem

brain = AssaultDecisionBrain(
    config_path="config/short_term_assault_config.json",
    enable_deep_audit=True,
    enable_online_monitoring=True
)

# æ›¿æ¢å‘Šè­¦å›è°ƒ
brain.monitoring_system.alert_callback = custom_alert_callback
```

---

## äº”ã€æœ€ä½³å®è·µ

### 5.1 è®­ç»ƒå‰æ£€æŸ¥æ¸…å•

- [ ] æ‰§è¡Œæ•°æ®æ³„éœ²å®¡è®¡
- [ ] æ£€æŸ¥æ ‡ç­¾ä¸€è‡´æ€§
- [ ] æ£€æµ‹Lookaheadç‰¹å¾
- [ ] è®¡ç®—ç‰¹å¾æ¼‚ç§»
- [ ] ç”Ÿæˆå®¡è®¡æŠ¥å‘Š
- [ ] ç¡®è®¤æ‰€æœ‰æ£€æŸ¥é€šè¿‡

### 5.2 åœ¨çº¿ç›‘æ§æ£€æŸ¥æ¸…å•

- [ ] å¯ç”¨æ»šåŠ¨ç²¾ç¡®ç‡ç›‘æ§
- [ ] é…ç½®è‡ªåŠ¨å›æ’¤é˜ˆå€¼
- [ ] è®¾ç½®å‘Šè­¦å›è°ƒ
- [ ] å®šæœŸæŸ¥çœ‹ç›‘æ§çŠ¶æ€
- [ ] è®°å½•å‘Šè­¦äº‹ä»¶
- [ ] åŠæ—¶å“åº”å‘Šè­¦

### 5.3 å†³ç­–ä¼˜åŒ–å»ºè®®

1. **ç½®ä¿¡åº¦è¿‡æ»¤**ï¼šåªå¯¹é«˜ç½®ä¿¡åº¦é¢„æµ‹æ‰§è¡Œäº¤æ˜“
2. **ä¸‰é‡ç¡®è®¤**ï¼šç¡®ä¿èµ„é‡‘ã€æƒ…ç»ªã€æŠ€æœ¯éƒ½æ»¡è¶³æ¡ä»¶
3. **é£é™©æ§åˆ¶**ï¼šæ ¹æ®ä¿¡å·ç­‰çº§è°ƒæ•´ä»“ä½å’Œæ­¢æŸ
4. **æŒç»­ç›‘æ§**ï¼šå®æ—¶ç›‘æ§æ€§èƒ½ï¼ŒåŠæ—¶è°ƒæ•´ç­–ç•¥

---

## å…­ã€å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•å¤„ç†æ•°æ®å®¡è®¡å¤±è´¥ï¼Ÿ

A: æŸ¥çœ‹å®¡è®¡æŠ¥å‘Šï¼Œå®šä½å¤±è´¥åŸå› ï¼š

```python
audit_results = brain.run_pre_training_audit(X_train, y_train)

if not audit_results['overall_passed']:
    for module_name, result in audit_results['modules'].items():
        if not result.get('overall_passed', True):
            print(f"æ¨¡å— {module_name} å¤±è´¥:")
            brain.generate_comprehensive_report(save_path='audit_report.md')
```

### Q2: å¦‚ä½•è°ƒæ•´å‘Šè­¦çµæ•åº¦ï¼Ÿ

A: ä¿®æ”¹ç›‘æ§å‚æ•°ï¼š

```python
# é™ä½å‘Šè­¦é˜ˆå€¼ï¼ˆæ›´æ•æ„Ÿï¼‰
monitor = RollingPrecisionMonitor(
    window_size=30,
    min_samples=5,
    alert_threshold=0.05  # ä»0.1é™ä½åˆ°0.05
)

# æé«˜å‘Šè­¦é˜ˆå€¼ï¼ˆå‡å°‘è¯¯æŠ¥ï¼‰
monitor = RollingPrecisionMonitor(
    window_size=100,
    min_samples=20,
    alert_threshold=0.15  # ä»0.1æé«˜åˆ°0.15
)
```

### Q3: å¦‚ä½•è§¦å‘å›æ’¤ï¼Ÿ

A: å›æ’¤ä¼šè‡ªåŠ¨è§¦å‘ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨è§¦å‘ï¼š

```python
# æ‰‹åŠ¨è§¦å‘å›æ’¤
brain.monitoring_system.rollback_threshold.trigger_rollback(
    reason="æ‰‹åŠ¨è§¦å‘å›æ’¤"
)

# æ£€æŸ¥å›æ’¤çŠ¶æ€
status = brain.get_decision_status()
if status['system_status'] == 'rollback':
    print("ç³»ç»Ÿå¤„äºå›æ’¤çŠ¶æ€")
```

### Q4: å¦‚ä½•æŸ¥çœ‹å†³ç­–å†å²ï¼Ÿ

A: æŸ¥çœ‹å†³ç­–çŠ¶æ€ï¼š

```python
status = brain.get_decision_status()

print(f"å†³ç­–æ€»æ•°: {status['decision_count']}")
print(f"ä¹°å…¥ä¿¡å·: {status['buy_signals']}")
print(f"å–å‡ºä¿¡å·: {status['sell_signals']}")
print(f"æŒæœ‰ä¿¡å·: {status['hold_signals']}")
```

---

## ä¸ƒã€å‚è€ƒæ–‡æ¡£

- [æ·±å…¥æ•°æ®æ³„éœ²å®¡è®¡ä¸åœ¨çº¿ç›‘æ§ä½¿ç”¨æŒ‡å—](./deep_audit_and_monitoring.md)
- [æ•°æ®è´¨é‡æ£€æµ‹ä¸å›å½’æµ‹è¯•ä½¿ç”¨æŒ‡å—](./data_quality_testing.md)
- [ç½®ä¿¡åº¦åˆ†æ¡¶ä¸è¿‡æ»¤å™¨ä½¿ç”¨æŒ‡å—](./confidence_bucket_usage.md)
- [ç³»ç»Ÿæ€»ä½“è®¾è®¡æ–‡æ¡£](./design.md)

---

## å…«ã€æ›´æ–°æ—¥å¿—

### V1.0 (2025-01-15)
- é›†æˆæ•°æ®æ³„éœ²å®¡è®¡åŠŸèƒ½
- é›†æˆåœ¨çº¿ç›‘æ§åŠŸèƒ½
- å®ç°æ™ºèƒ½å†³ç­–å¤§è„‘
- å®ç°é›†æˆäº¤æ˜“ç³»ç»Ÿ
- æ·»åŠ å®Œæ•´çš„ä½¿ç”¨æ–‡æ¡£
- æ·»åŠ 7ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå…¨éƒ¨é€šè¿‡
